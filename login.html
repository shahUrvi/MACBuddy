<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAC Buddy - Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }

        h2#login-title {
            color: #3d3d3d;
        }

        .form-label {
            color: #524848;
            font-weight: 700;
        }

        .form-control {
            border: 1px solid #6c757d;
            box-shadow: none;
        }

        .btn-custom {
            background-color: #5a3e3e;
            color: #fff;
        }

        .btn-custom:hover {
            background-color: #482828;
        }

        html,
        body {
            height: 100%;
            margin: 0;
        }

        .main3 {
            min-height: calc(100vh - 100px);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        footer {
            position: relative;
            bottom: 0;
            width: 100%;
            padding: 1rem 0;
        }

        .error-message {
            color: red;
            display: none; /* Hide by default */
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="#" id="nav-brand"><i class="fas fa-tools"></i> MAC Buddy</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html" id="home-link"><i class="fas fa-home"></i> Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="signup.html" id="signup-link"><i class="fas fa-user-plus"></i> Sign Up</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html"><i class="fas fa-address-book"></i> Contact Us</a>
                    </li>
                </ul>
                <select class="form-select ms-3" id="language-select" onchange="updateLanguage()">
                    <option selected disabled>Choose Language</option>
                    <option value="English">English</option>
                    <option value="Hindi">Hindi</option>
                </select>
            </div>
        </div>
    </nav>
    <div class="main3">
        <div class="container my-1">
            <h2 class="text-center" id="login-title"> Login</h2>
            <form id="login-form" onsubmit="handleLoginSubmit(event)">
                <div class="mb-3">
                    <label for="username" class="form-label"><i class="fas fa-user"></i> Username</label>
                    <input type="text" class="form-control" id="username" required>
                    <div class="error-message" id="username-error">Please enter a valid username.</div>
                </div>
                <div class="mb-3">
                    <label for="login-email" class="form-label" id="login-email-label"><i class="fas fa-envelope"></i> Email address</label>
                    <input type="email" class="form-control" id="login-email" required>
                    <div class="error-message" id="email-error">Please enter a valid email address.</div>
                </div>
                <div class="mb-3">
                    <label for="login-password" class="form-label" id="login-password-label"><i class="fas fa-lock"></i> Password</label>
                    <input type="password" class="form-control" id="login-password" required>
                    <input type="checkbox" onclick="togglePasswordVisibility()"> Show Password
                    <div class="error-message" id="password-error">Please enter a valid password.</div> <!-- Password error message -->
                </div>
                
                <div class="text-center">
                    <button type="submit" class="btn btn-custom" id="login-submit-button"><i class="fas fa-sign-in-alt"></i> Login</button>
                </div>
            </form>
            <div id="login-success-message" class="text-center mt-4 d-none">
                <h4>Login Successful!</h4>
                <p id="welcome-message"></p>
                <p>Choose what you want to do next:</p>
                <button class="btn btn-custom" onclick="location.href='dashboard.html'">Go to Dashboard</button>
                <button class="btn btn-custom-secondary" onclick="location.href='booking.html'">Book a Service</button>
            </div>

            <div class="text-center mt-5">
                <p>New to the website? <a href="signup.html">Sign Up here</a></p>
            </div>
        </div>
    </div>
    <footer class="text-center py-3">
        <p id="footer-text">Contact Us | Surendranagar Two-Wheeler Mechanic Association</p>
        <p>Made with ❤️ by Urvi</p>
    </footer>

    <script>
        function updateLanguage() {
            const language = document.getElementById('language-select').value;

            if (language === "Hindi") {
                document.getElementById('nav-brand').innerText = "MAC Buddy";
                document.getElementById('home-link').innerText = "मुख्य पृष्ठ";
                document.getElementById('signup-link').innerText = "साइन अप करें";
                document.getElementById('login-title').innerText = "लॉग इन करें";
                document.getElementById('login-email-label').innerText = "ईमेल पता";
                document.getElementById('login-password-label').innerText = "पासवर्ड";
                document.getElementById('login-submit-button').innerText = "लॉग इन करें";
                document.getElementById('footer-text').innerText = "संपर्क करें | सुरेन्द्रनगर दोपहिया मैकेनिक संघ";
            } else {
                document.getElementById('nav-brand').innerText = "MAC Buddy";
                document.getElementById('home-link').innerText = "Home";
                document.getElementById('signup-link').innerText = "Sign Up";
                document.getElementById('login-title').innerText = "Login";
                document.getElementById('login-email-label').innerText = "Email address";
                document.getElementById('login-password-label').innerText = "Password";
                document.getElementById('login-submit-button').innerText = "Login";
                document.getElementById('footer-text').innerText = "Contact Us | Surendranagar Two-Wheeler Mechanic Association";
            }
        }

        function togglePasswordVisibility() {
            const passwordField = document.getElementById('login-password');
            const type = passwordField.type === "password" ? "text" : "password";
            passwordField.type = type;
        }

        function handleLoginSubmit(event) {
    event.preventDefault(); // Prevent form from submitting the traditional way

    // Clear previous error messages
    document.getElementById('username-error').style.display = 'none';
    document.getElementById('email-error').style.display = 'none';
    document.getElementById('password-error').style.display = 'none'; // Clear password error message

    const username = document.getElementById('username').value.trim();
    const email = document.getElementById('login-email').value.trim();
    const password = document.getElementById('login-password').value.trim();

    let valid = true;

    // Username validation
    const usernamePattern = /^[A-Za-z]+$/; // Allow only letters
    if (username === '' || !usernamePattern.test(username)) {
        document.getElementById('username-error').innerText = 'Please enter a valid username (letters only).';
        document.getElementById('username-error').style.display = 'block';
        valid = false;
    }

    // Email validation
    const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/; // Basic email pattern
    if (email === '' || !emailPattern.test(email)) {
        document.getElementById('email-error').style.display = 'block';
        valid = false;
    }

    // Password validation
    const passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/; // Password must meet the criteria
    if (password === '' || !passwordPattern.test(password)) {
        document.getElementById('password-error').innerText = 'Password must be at least 8 characters long, and include an uppercase letter, a lowercase letter, a number, and a special character.';
        document.getElementById('password-error').style.display = 'block';
        valid = false;
    }

    // If valid, show success message
    if (valid) {
        document.getElementById('welcome-message').innerText = `Welcome back, ${username}!`;
        document.getElementById('login-success-message').classList.remove('d-none');
        document.getElementById('login-form').reset(); // Reset the form fields
    }
}


    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
